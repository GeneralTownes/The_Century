on_monthly_pulse_country = {
	on_actions = {
		on_bpm_monthly_pulse_country
		bpm_update_enactment_success_on_action
	}
}

on_revolution_start = {
	on_actions = {
		on_bpm_revolution_start
	}
}

on_diplo_play_war_start = {
	on_actions = {
		on_bpm_diplo_play_war_start
	}
}

on_investment_increased ={ 
	on_actions = {
		on_bpm_investment_increased
	}
}

on_investment_decreased ={ 
	on_actions = {
		on_bpm_investment_decreased
	}
}

on_default = {
	on_actions = {
		on_bpm_default
	}
}

on_bpm_monthly_pulse_country = {
	effect = {
		owner = {
			bpm_update_political_stability = yes
			bpm_institution_workaround_effect = yes
		}
		if = {
			limit = {
				is_ai = yes
				NOT = { has_modifier = bpm_ai_cheats }
			}
			add_modifier = {
				name = bpm_ai_cheats
			}
		}
		if = {
			limit = {
				is_ai = no
			}
			remove_modifier = bpm_ai_cheats
		}
	}
}

on_bpm_default = {
	effect = {
		bpm_remove_political_stability_big = yes
	}
}

on_bpm_diplo_play_war_start = {
	effect = {
		# Removing Rigidity from participants
		if = {
			limit = {
				war = {
					attacker_warleader = {
						country_rank > rank_value:insignificant_power
					}
					defender_warleader = {
						country_rank > rank_value:insignificant_power
					}
				}
			}
			every_scope_play_involved = {
				bpm_add_political_stability_big = yes
			}
		}
	}
}

on_bpm_revolution_start = {
	effect = {
		bpm_add_political_stability_big = yes # Crackdowns, most disloyal people left for revolution
	}
}

on_bpm_investment_increased = {
	effect ={ 
		owner = { bpm_institution_workaround_effect = yes }
	}
}

on_bpm_investment_decreased = { 
	effect = { 
		owner = { bpm_institution_workaround_effect = yes }
	}
}