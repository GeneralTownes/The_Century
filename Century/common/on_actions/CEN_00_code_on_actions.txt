# Root = Country
on_monthly_pulse_country = {
	on_actions = {
		CEN_coastal_capital
		CEN_colonial_institution_fix
		CEN_China
	}
}

# Root = State
on_monthly_pulse_state = {
	on_actions = {
		CEN_uni_removal
	}
}

# Root = Country
# scope:target = Uprising country
on_revolution_start = {
	effect = {
		if = {
			limit = {
				has_journal_entry = je_warlord_china
				NOT = { has_global_variable = china_warlord_explosion_revolution }
			}
			chi_add_1_fracture = yes
			set_global_variable = china_warlord_explosion_revolution
		}
	}
}

# Root = Country
# scope:target = Uprising country
on_secession_start = {
	effect = {
		if = {
			limit = {
				has_journal_entry = je_warlord_china
				NOT = { has_global_variable = china_warlord_explosion_secession }
			}
			chi_add_1_fracture = yes
			set_global_variable = china_warlord_explosion_secession
		}
	}
}

# Root = Releasing Country
# scope:target = Released Country
on_country_released_as_independent = {
	on_actions = {
		CEN_china_release_penalty
		CEN_warlord_release_penalty
	}
}

# Root = Releasing Country
# scope:target = Released Country
on_country_released_as_own_subject = {
	on_actions = {
		CEN_china_release_penalty
		CEN_warlord_release_penalty
	}
}

on_building_expanded = {
	effect = {
		# when a railroad finishes expanding, increase railroad variable
		if = {
			limit = {
				is_building_type = building_railway
			}
			this.owner = {
				if = {
					limit = {
						has_journal_entry = je_chinese_industry
					}
					change_global_variable = {
						name = chinese_rail_expansion
						add = 1
					}
				}
			}
		}
	}
}